<%- include("header") -%>

<div class="box" id="heading">
  <h1><%= listTitle %> ToDo list</h1>
</div>

<div class="sidebar">
  <ul>
    <% for (let i = 0; i < lists.length; i++) { %>
    <li>
      <a href="/list/<%= lists[i] %>"><%= lists[i] %></a>
      <button onclick="deleteList('<%= lists[i] %>')">❌</button>
    </li>
    <% } %>
  </ul>
  <form action="/lists" method="post">
    <input
      type="text"
      name="listTitle"
      placeholder="New item"
      autocomplete="off"
    />
    <button class="button-list" type="submit">+</button>
  </form>
</div>

<div class="box">
  <% for (let i = 0; i < items.length; i++) { %>
  <div class="item">
    <input onchange="checkItem('<%= listTitle %>', <%= i %>, this.checked)"
    type="checkbox" <%= items[i].done ? "checked" : "" %> />
    <p><%= items[i].item %></p>
    <button
      class="delete-button"
      onclick="deleteItem('<%= listTitle %>', <%= i %>)"
    >
      ❌
    </button>
  </div>
  <% } %>

  <form
    class="new-item-form item"
    action="/list/<%= listTitle %>"
    method="post"
  >
    <input
      type="text"
      name="newItem"
      placeholder="New item"
      autocomplete="off"
    />
    <button type="submit">+</button>
  </form>
</div>

<%- include("footer") -%>
